<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap
PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
"conf/sql-map-2.dtd">

<sqlMap namespace="Statistic">
	<select id="getReceivedCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*)
		FROM MESSAGE
		WHERE
			CHANNEL_ID = #channelId# AND
			CORRELATION_ID IS NULL
	</select>
	
	<select id="getSentCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*)
		FROM MESSAGE
		WHERE
			CHANNEL_ID = #channelId# AND
			STATUS='SENT'
	</select>
	
	<select id="getErrorCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*)
		FROM MESSAGE
		WHERE
			CHANNEL_ID = #channelId# AND
			STATUS='ERROR'
	</select>
	
	<select id="getFilteredCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
		SELECT COUNT(*)
		FROM MESSAGE
		WHERE
			CHANNEL_ID = #channelId# AND
			STATUS='FILTERED'
	</select>
</sqlMap>